imports:
  root: __package__.yml
docs: >-
  Create, update, and delete [Unleash
  addons](https://docs.getunleash.io/addons).
service:
  auth: false
  base-path: ''
  display-name: Addons
  endpoints:
    createAddon:
      display-name: Create a new addon
      docs: >-
        Create an addon instance. The addon must use one of the providers
        available on this Unleash instance.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.ContentTooLargeError
        - root.UnsupportedMediaTypeError
      examples:
        - request:
            enabled: true
            events:
              - feature-created
              - feature-updated
            parameters:
              url: http://localhost:4242/webhook
            provider: webhook
          response:
            body:
              description: >-
                This addon posts updates to our internal feature tracking system
                whenever a feature is created or updated.
              enabled: true
              environments:
                - development
                - production
              events:
                - feature-created
                - feature-updated
              id: 27
              parameters:
                url: http://localhost:4242/webhook
              projects:
                - new-landing-project
                - signups-v2
              provider: webhook
      method: POST
      path: /api/admin/addons
      request:
        body: root.AddonCreateUpdateSchema
        content-type: application/json
      response:
        docs: addonSchema
        status-code: 200
        type: root.AddonSchema
      source:
        openapi: openapi.json
    deleteAddon:
      display-name: Delete an addon
      docs: Delete the addon specified by the ID in the request path.
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - path-parameters:
            id: id
      method: DELETE
      path: /api/admin/addons/{id}
      path-parameters:
        id: string
      source:
        openapi: openapi.json
    getAddon:
      display-name: Get a specific addon
      docs: >-
        Retrieve information about the addon whose ID matches the ID in the
        request URL.
      errors:
        - root.UnauthorizedError
      examples:
        - path-parameters:
            id: id
          response:
            body:
              description: >-
                This addon posts updates to our internal feature tracking system
                whenever a feature is created or updated.
              enabled: true
              environments:
                - development
                - production
              events:
                - feature-created
                - feature-updated
              id: 27
              parameters:
                url: http://localhost:4242/webhook
              projects:
                - new-landing-project
                - signups-v2
              provider: webhook
      method: GET
      path: /api/admin/addons/{id}
      path-parameters:
        id: string
      response:
        docs: addonSchema
        status-code: 200
        type: root.AddonSchema
      source:
        openapi: openapi.json
    getAddons:
      display-name: Get all addons and providers
      docs: >-
        Retrieve all addons and providers that are defined on this Unleash
        instance.
      errors:
        - root.UnauthorizedError
      examples:
        - response:
            body:
              addons:
                - description: >-
                    This addon posts updates to our internal feature tracking
                    system whenever a feature is created or updated.
                  enabled: true
                  environments:
                    - development
                    - production
                  events:
                    - feature-created
                    - feature-updated
                  id: 27
                  parameters:
                    url: http://localhost:4242/webhook
                  projects:
                    - new-landing-project
                    - signups-v2
                  provider: webhook
              providers:
                - alerts:
                    - text: >-
                        Please ensure you have the Unleash App for Slack
                        installed in your Slack workspace if you haven't
                        installed it already. If you want the Unleash App for
                        Slack bot to post messages to private channels, you'll
                        need to invite it to those channels.
                      type: success
                  deprecated: >-
                    This integration is deprecated. Please try the new
                    integration instead.
                  description: >-
                    A Webhook is a generic way to post messages from Unleash to
                    third party services.
                  displayName: Webhook
                  documentationUrl: https://docs.getunleash.io/docs/addons/webhook
                  events:
                    - feature-created
                    - feature-updated
                    - feature-archived
                    - feature-revived
                    - feature-stale-on
                    - feature-stale-off
                    - feature-environment-enabled
                    - feature-environment-disabled
                    - feature-strategy-remove
                    - feature-strategy-update
                    - feature-strategy-add
                    - feature-metadata-updated
                    - feature-variants-updated
                    - feature-project-change
                    - feature-tagged
                    - feature-untagged
                    - change-request-created
                    - change-request-discarded
                    - change-added
                    - change-discarded
                    - change-request-approved
                    - change-request-approval-added
                    - change-request-cancelled
                    - change-request-sent-to-review
                    - change-request-applied
                  howTo: |-
                    This is **how you use** this addon type...
                      - Step 1
                      - Step 2
                      - Step 3
                  installation:
                    helpText: >-
                      Clicking the Install button will send you to Slack to
                      initiate the installation procedure for the Unleash App
                      for Slack for your workspace
                    title: App for Slack installation
                    url: https://app-for-slack.getunleash.io/install
                  name: webhook
                  parameters:
                    - description: >-
                        (Required) Unleash will perform a HTTP Post to the
                        specified URL (one retry if first attempt fails)
                      displayName: Webhook URL
                      name: url
                      placeholder: ':unleash:'
                      required: true
                      sensitive: true
                      type: url
                    - description: >-
                        (Optional) The Content-Type header to use. Defaults to
                        "application/json".
                      displayName: Content-Type
                      name: contentType
                      placeholder: application/json
                      required: false
                      sensitive: false
                      type: text
                    - description: >-
                        (Optional) The Authorization header to use. Not used if
                        left blank.
                      displayName: Authorization
                      name: authorization
                      placeholder: ''
                      required: false
                      sensitive: true
                      type: text
                    - description: >-
                        (Optional) You may format the body using a mustache
                        template. If you don't specify anything, the format will
                        similar to the events format
                        (https://docs.getunleash.io/reference/api/legacy/unleash/admin/events)
                      displayName: Body template
                      name: bodyTemplate
                      placeholder: |-
                        {
                          "event": "{{event.type}}",
                          "createdBy": "{{event.createdBy}}",
                          "featureToggle": "{{event.data.name}}",
                          "timestamp": "{{event.data.createdAt}}"
                        }
                      required: false
                      sensitive: false
                      type: textfield
                  tagTypes:
                    - description: >-
                        Slack tag used by the slack-addon to specify the slack
                        channel.
                      icon: S
                      name: slack
                - alerts:
                    - text: >-
                        Please ensure you have the Unleash App for Slack
                        installed in your Slack workspace if you haven't
                        installed it already. If you want the Unleash App for
                        Slack bot to post messages to private channels, you'll
                        need to invite it to those channels.
                      type: success
                  deprecated: >-
                    This integration is deprecated. Please try the new
                    integration instead.
                  description: Allows Unleash to post updates to Slack.
                  displayName: Slack
                  documentationUrl: https://docs.getunleash.io/docs/addons/slack
                  events:
                    - feature-created
                    - feature-updated
                    - feature-archived
                    - feature-revived
                    - feature-stale-on
                    - feature-stale-off
                    - feature-environment-enabled
                    - feature-environment-disabled
                    - feature-strategy-remove
                    - feature-strategy-update
                    - feature-strategy-add
                    - feature-metadata-updated
                    - feature-variants-updated
                    - feature-project-change
                  howTo: |-
                    This is **how you use** this addon type...
                      - Step 1
                      - Step 2
                      - Step 3
                  installation:
                    helpText: >-
                      Clicking the Install button will send you to Slack to
                      initiate the installation procedure for the Unleash App
                      for Slack for your workspace
                    title: App for Slack installation
                    url: https://app-for-slack.getunleash.io/install
                  name: slack
                  parameters:
                    - description: (Required)
                      displayName: Slack webhook URL
                      name: url
                      placeholder: ':unleash:'
                      required: true
                      sensitive: true
                      type: url
                    - description: >-
                        The username to use when posting messages to slack.
                        Defaults to "Unleash".
                      displayName: Username
                      name: username
                      placeholder: Unleash
                      required: false
                      sensitive: false
                      type: text
                    - description: >-
                        The emoji_icon to use when posting messages to slack.
                        Defaults to ":unleash:".
                      displayName: Emoji Icon
                      name: emojiIcon
                      placeholder: ':unleash:'
                      required: false
                      sensitive: false
                      type: text
                    - description: >-
                        (Required) Default channel to post updates to if not
                        specified in the slack-tag
                      displayName: Default channel
                      name: defaultChannel
                      placeholder: ':unleash:'
                      required: true
                      sensitive: false
                      type: text
                  tagTypes:
                    - description: >-
                        Slack tag used by the slack-addon to specify the slack
                        channel.
                      icon: S
                      name: slack
                - alerts:
                    - text: >-
                        Please ensure you have the Unleash App for Slack
                        installed in your Slack workspace if you haven't
                        installed it already. If you want the Unleash App for
                        Slack bot to post messages to private channels, you'll
                        need to invite it to those channels.
                      type: success
                  deprecated: >-
                    This integration is deprecated. Please try the new
                    integration instead.
                  description: Allows Unleash to post updates to Microsoft Teams.
                  displayName: Microsoft Teams
                  documentationUrl: https://docs.getunleash.io/docs/addons/teams
                  events:
                    - feature-created
                    - feature-updated
                    - feature-archived
                    - feature-revived
                    - feature-stale-on
                    - feature-stale-off
                    - feature-environment-enabled
                    - feature-environment-disabled
                    - feature-strategy-remove
                    - feature-strategy-update
                    - feature-strategy-add
                    - feature-metadata-updated
                    - feature-variants-updated
                    - feature-project-change
                  howTo: |-
                    This is **how you use** this addon type...
                      - Step 1
                      - Step 2
                      - Step 3
                  installation:
                    helpText: >-
                      Clicking the Install button will send you to Slack to
                      initiate the installation procedure for the Unleash App
                      for Slack for your workspace
                    title: App for Slack installation
                    url: https://app-for-slack.getunleash.io/install
                  name: teams
                  parameters:
                    - description: (Required)
                      displayName: Microsoft Teams webhook URL
                      name: url
                      placeholder: ':unleash:'
                      required: true
                      sensitive: true
                      type: url
                  tagTypes:
                    - description: >-
                        Slack tag used by the slack-addon to specify the slack
                        channel.
                      icon: S
                      name: slack
                - alerts:
                    - text: >-
                        Please ensure you have the Unleash App for Slack
                        installed in your Slack workspace if you haven't
                        installed it already. If you want the Unleash App for
                        Slack bot to post messages to private channels, you'll
                        need to invite it to those channels.
                      type: success
                  deprecated: >-
                    This integration is deprecated. Please try the new
                    integration instead.
                  description: Allows Unleash to post updates to Datadog.
                  displayName: Datadog
                  documentationUrl: https://docs.getunleash.io/docs/addons/datadog
                  events:
                    - feature-created
                    - feature-updated
                    - feature-archived
                    - feature-revived
                    - feature-stale-on
                    - feature-stale-off
                    - feature-environment-enabled
                    - feature-environment-disabled
                    - feature-strategy-remove
                    - feature-strategy-update
                    - feature-strategy-add
                    - feature-metadata-updated
                    - feature-project-change
                    - feature-variants-updated
                  howTo: |-
                    This is **how you use** this addon type...
                      - Step 1
                      - Step 2
                      - Step 3
                  installation:
                    helpText: >-
                      Clicking the Install button will send you to Slack to
                      initiate the installation procedure for the Unleash App
                      for Slack for your workspace
                    title: App for Slack installation
                    url: https://app-for-slack.getunleash.io/install
                  name: datadog
                  parameters:
                    - description: >-
                        Default URL: https://api.datadoghq.com/api/v1/events.
                        Needs to be changed if your're not using the US1 site.
                      displayName: Datadog Events URL
                      name: url
                      placeholder: ':unleash:'
                      required: false
                      sensitive: false
                      type: url
                    - description: (Required) API key to connect to Datadog
                      displayName: Datadog API key
                      name: apiKey
                      placeholder: j96c23b0f12a6b3434a8d710110bd862
                      required: true
                      sensitive: true
                      type: text
                  tagTypes:
                    - description: >-
                        All Datadog tags added to a specific feature are sent to
                        datadog event stream.
                      icon: D
                      name: datadog
      method: GET
      path: /api/admin/addons
      response:
        docs: addonsSchema
        status-code: 200
        type: root.AddonsSchema
      source:
        openapi: openapi.json
    getIntegrationEvents:
      display-name: Get integration events for a specific integration configuration.
      docs: >-
        Returns a list of integration events belonging to a specific integration
        configuration, identified by its id.
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - path-parameters:
            id: id
          query-parameters:
            limit: '50'
            offset: '50'
          response:
            body:
              integrationEvents:
                - createdAt: '2023-12-27T12:37:00Z'
                  details:
                    channels:
                      - engineering
                      - unleash-updates
                    message: >-
                      *user@yourcompany.com* created a new *slack-app*
                      integration configuration
                  event:
                    createdAt: '2023-07-05T12:56:00Z'
                    createdBy: johndoe
                    groupId: 01HQVX5K8P9EXAMPLE123456
                    groupType: change-request
                    id: 1
                    type: application-created
                  id: '7'
                  integrationId: 42
                  state: success
                  stateDetails: 'Status code: 429 - Rate limit reached.'
      method: GET
      path: /api/admin/addons/{id}/events
      path-parameters:
        id: string
      request:
        name: GetIntegrationEventsRequest
        query-parameters:
          limit:
            docs: >-
              The number of results to return in a page. By default it is set to
              50.
            type: optional<string>
          offset:
            docs: >-
              The number of results to skip when returning a page. By default it
              is set to 0.
            type: optional<string>
      response:
        docs: '#/components/schemas/integrationEventsSchema'
        status-code: 200
        type: root.IntegrationEventsSchema
      source:
        openapi: openapi.json
    updateAddon:
      display-name: Update an addon
      docs: >-
        Update the addon with a specific ID. Any fields in the update object
        will be updated. Properties that are not included in the update object
        will not be affected. To empty a property, pass `null` as that
        property's value.


        Note: passing `null` as a value for the description property will set it
        to an empty string.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.ContentTooLargeError
        - root.UnsupportedMediaTypeError
      examples:
        - path-parameters:
            id: id
          request:
            enabled: true
            events:
              - feature-created
              - feature-updated
            parameters:
              url: http://localhost:4242/webhook
            provider: webhook
          response:
            body:
              description: >-
                This addon posts updates to our internal feature tracking system
                whenever a feature is created or updated.
              enabled: true
              environments:
                - development
                - production
              events:
                - feature-created
                - feature-updated
              id: 27
              parameters:
                url: http://localhost:4242/webhook
              projects:
                - new-landing-project
                - signups-v2
              provider: webhook
      method: PUT
      path: /api/admin/addons/{id}
      path-parameters:
        id: string
      request:
        body: root.AddonCreateUpdateSchema
        content-type: application/json
      response:
        docs: addonSchema
        status-code: 200
        type: root.AddonSchema
      source:
        openapi: openapi.json
  source:
    openapi: openapi.json
