imports:
  root: __package__.yml
docs: Evaluate an Unleash context against your feature flags.
service:
  auth: false
  base-path: ''
  display-name: Playground
  endpoints:
    getAdvancedPlayground:
      display-name: >-
        Batch evaluate an Unleash context against a set of environments and
        projects.
      docs: >-
        Use the provided `context`, `environments`, and `projects` to evaluate
        toggles on this Unleash instance. You can use comma-separated values to
        provide multiple values to each context field. Returns a combinatorial
        list of all toggles that match the parameters and what they evaluate to.
        The response also contains the input parameters that were provided.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
      examples:
        - request:
            context:
              appName: My cool application.
            environments:
              - development
              - production
          response:
            body:
              features:
                - environments:
                    key:
                      - context:
                          appName: My cool application.
                          currentTime: '2022-07-05T10:56:41Z'
                          remoteAddress: 192.168.1.1
                          sessionId: b65e7b23-fec0-4814-a129-0e9861ef18fc
                          userId: username@provider.com
                        environment: development
                        isEnabled: true
                        isEnabledInCurrentEnvironment: true
                        name: my-feature
                        projectId: my-project
                        strategies:
                          data:
                            - constraints:
                                - contextName: appName
                                  operator: NOT_IN
                                  result: true
                                  value: my-app
                              disabled: false
                              id: 3AECCF7E-FF82-4174-8287-8EBE06079A50
                              links:
                                edit: >-
                                  /projects/some-project/features/some-feature/strategies/edit?environmentId=some-env&strategyId=
                                  3AECCF7E-FF82-4174-8287-8EBE06079A50
                              name: name
                              parameters:
                                key: value
                              result:
                                enabled: true
                                evaluationStatus: incomplete
                              segments:
                                - constraints:
                                    - contextName: appName
                                      operator: NOT_IN
                                      result: true
                                      value: my-app
                                  id: 1
                                  name: segment A
                                  result: true
                              title: Beta rollout
                          result: true
                        variant:
                          enabled: true
                          name: green
                          payload:
                            type: type
                            value: '{"property": "value"}'
                        variants:
                          - name: blue_group
                            overrides:
                              - contextName: userId
                                values:
                                  - red
                                  - blue
                            payload:
                              type: json
                              value: '{"color": "red"}'
                            stickiness: custom.context.field
                            weight: 1.1
                  name: my-feature
                  projectId: my-project
              input:
                context:
                  appName: My cool application.
                  currentTime: '2022-07-05T10:56:41Z'
                  properties:
                    customContextField: this is one!
                    otherCustomField: '3'
                  remoteAddress: 192.168.1.1
                  sessionId: b65e7b23-fec0-4814-a129-0e9861ef18fc
                  userId: username@provider.com
                environments:
                  - development
                  - production
                projects:
                  - my-project
              warnings:
                invalidContextProperties:
                  - invalidContextProperties
      method: POST
      path: /api/admin/playground/advanced
      request:
        body: root.AdvancedPlaygroundRequestSchema
        content-type: application/json
      response:
        docs: advancedPlaygroundResponseSchema
        status-code: 200
        type: root.AdvancedPlaygroundResponseSchema
      source:
        openapi: openapi.json
    getChangeRequestPlayground:
      display-name: Evaluate an Unleash context against a change request preview.
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Use the provided `context` to evaluate toggles on this Unleash instance
        with a change request applied in preview mode. You can use
        comma-separated values to provide multiple values to each context field.
        Returns a combinatorial list of all toggles that match the parameters
        and what they evaluate to.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.NotFoundError
      examples:
        - path-parameters:
            id: id
          request:
            context:
              appName: My cool application.
          response:
            body:
              features:
                - environments:
                    key:
                      - context:
                          appName: My cool application.
                          currentTime: '2022-07-05T10:56:41Z'
                          remoteAddress: 192.168.1.1
                          sessionId: b65e7b23-fec0-4814-a129-0e9861ef18fc
                          userId: username@provider.com
                        environment: development
                        isEnabled: true
                        isEnabledInCurrentEnvironment: true
                        name: my-feature
                        projectId: my-project
                        strategies:
                          data:
                            - constraints:
                                - contextName: appName
                                  operator: NOT_IN
                                  result: true
                                  value: my-app
                              disabled: false
                              id: 3AECCF7E-FF82-4174-8287-8EBE06079A50
                              links:
                                edit: >-
                                  /projects/some-project/features/some-feature/strategies/edit?environmentId=some-env&strategyId=
                                  3AECCF7E-FF82-4174-8287-8EBE06079A50
                              name: name
                              parameters:
                                key: value
                              result:
                                enabled: true
                                evaluationStatus: incomplete
                              segments:
                                - constraints:
                                    - contextName: appName
                                      operator: NOT_IN
                                      result: true
                                      value: my-app
                                  id: 1
                                  name: segment A
                                  result: true
                              title: Beta rollout
                          result: true
                        variant:
                          enabled: true
                          name: green
                          payload:
                            type: type
                            value: '{"property": "value"}'
                        variants:
                          - name: blue_group
                            overrides:
                              - contextName: userId
                                values:
                                  - red
                                  - blue
                            payload:
                              type: json
                              value: '{"color": "red"}'
                            stickiness: custom.context.field
                            weight: 1.1
                  name: my-feature
                  projectId: my-project
              input:
                context:
                  appName: My cool application.
                  currentTime: '2022-07-05T10:56:41Z'
                  properties:
                    customContextField: this is one!
                    otherCustomField: '3'
                  remoteAddress: 192.168.1.1
                  sessionId: b65e7b23-fec0-4814-a129-0e9861ef18fc
                  userId: username@provider.com
                environments:
                  - development
                  - production
                projects:
                  - my-project
              warnings:
                invalidContextProperties:
                  - invalidContextProperties
      method: POST
      path: /api/admin/playground/change-request/{id}
      path-parameters:
        id: string
      request:
        body:
          properties:
            context: root.SdkContextSchema
        content-type: application/json
        name: ChangeRequestPlaygroundRequestSchema
      response:
        docs: advancedPlaygroundResponseSchema
        status-code: 200
        type: root.AdvancedPlaygroundResponseSchema
      source:
        openapi: openapi.json
    getPlayground:
      display-name: Evaluate an Unleash context against a set of environments and projects.
      docs: >-
        Deprecated. Will be removed in the next Unleash major update. Use the
        provided `context`, `environment`, and `projects` to evaluate toggles on
        this Unleash instance. Returns a list of all toggles that match the
        parameters and what they evaluate to. The response also contains the
        input parameters that were provided.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
      examples:
        - request:
            context:
              appName: My cool application.
            environment: development
          response:
            body:
              features:
                - hasUnsatisfiedDependency: true
                  isEnabled: true
                  isEnabledInCurrentEnvironment: true
                  name: my-feature
                  projectId: my-project
                  strategies:
                    data:
                      - constraints:
                          - contextName: appName
                            operator: NOT_IN
                            result: true
                            value: my-app
                        disabled: false
                        id: 3AECCF7E-FF82-4174-8287-8EBE06079A50
                        links:
                          edit: >-
                            /projects/some-project/features/some-feature/strategies/edit?environmentId=some-env&strategyId=
                            3AECCF7E-FF82-4174-8287-8EBE06079A50
                        name: name
                        parameters:
                          key: value
                        result:
                          enabled: true
                          evaluationStatus: incomplete
                        segments:
                          - constraints:
                              - contextName: appName
                                operator: NOT_IN
                                result: true
                                value: my-app
                            id: 1
                            name: segment A
                            result: true
                        title: Beta rollout
                    result: true
                  variant:
                    enabled: true
                    feature_enabled: true
                    name: green
                    payload:
                      type: type
                      value: '{"property": "value"}'
                  variants:
                    - name: blue_group
                      overrides:
                        - contextName: userId
                          values:
                            - red
                            - blue
                      payload:
                        type: json
                        value: '{"color": "red"}'
                      stickiness: custom.context.field
                      weight: 1.1
              input:
                context:
                  appName: My cool application.
                  currentTime: '2022-07-05T10:56:41Z'
                  properties:
                    customContextField: this is one!
                    otherCustomField: '3'
                  remoteAddress: 192.168.1.1
                  sessionId: b65e7b23-fec0-4814-a129-0e9861ef18fc
                  userId: username@provider.com
                environment: development
                projects:
                  - my-project
      method: POST
      path: /api/admin/playground
      request:
        body: root.PlaygroundRequestSchema
        content-type: application/json
      response:
        docs: playgroundResponseSchema
        status-code: 200
        type: root.PlaygroundResponseSchema
      source:
        openapi: openapi.json
  source:
    openapi: openapi.json
