imports:
  root: __package__.yml
types:
  CreateUserSchemaRootRole:
    discriminated: false
    docs: >-
      The role to assign to the user. Can be either the role's ID or its unique
      name.
    inline: true
    source:
      openapi: openapi.json
    union:
      - type: integer
        validation:
          min: 0
      - literal<"Admin">
      - literal<"Editor">
      - literal<"Viewer">
      - literal<"Owner">
      - literal<"Member">
  UpdateUserSchemaRootRole:
    discriminated: false
    docs: >-
      The role to assign to the user. Can be either the role's ID or its unique
      name.
    inline: true
    source:
      openapi: openapi.json
    union:
      - type: integer
        validation:
          min: 0
      - literal<"Admin">
      - literal<"Editor">
      - literal<"Viewer">
      - literal<"Owner">
      - literal<"Member">
docs: Manage users and passwords.
service:
  auth: false
  base-path: ''
  display-name: Users
  endpoints:
    changeMyPassword:
      display-name: Change your own password
      docs: Requires specifying old password and confirming new password
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
      examples:
        - request:
            password: k!5As3HquUrQ
      method: POST
      path: /api/admin/user/change-password
      request:
        body: root.PasswordSchema
        content-type: application/json
      source:
        openapi: openapi.json
    changeUserPassword:
      display-name: Change password for a user
      docs: Change password for a user as an admin
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - path-parameters:
            id: 1
          request:
            password: k!5As3HquUrQ
      method: POST
      path: /api/admin/user-admin/{id}/change-password
      path-parameters:
        id:
          docs: a user id
          type: integer
      request:
        body: root.PasswordSchema
        content-type: application/json
      source:
        openapi: openapi.json
    createGroup:
      display-name: Create a new group
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Create a new user group for Role-Based Access Control
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.ConflictError
      examples:
        - request:
            name: DX team
          response:
            body:
              createdAt: '2023-06-30T11:41:00Z'
              createdBy: admin
              description: Current members of the DX squad
              id: 1
              mappingsSSO:
                - SSOGroup1
                - SSOGroup2
              name: DX team
              projects:
                - default
                - my-project
              rootRole: 1
              scimId: 01HTMEXAMPLESCIMID7SWWGHN7
              userCount: 1
              users:
                - createdBy: admin
                  joinedAt: '2023-06-30T11:41:00Z'
                  user:
                    createdAt: '2023-06-30T11:41:00Z'
                    deletedSessions: 1
                    email: user@example.com
                    emailSent: false
                    id: 123
                    imageUrl: https://example.com/242x200.png
                    inviteLink: http://localhost:4242/invite-link/some-secret
                    loginAttempts: 3
                    rootRole: 1
      method: POST
      path: /api/admin/groups
      request:
        body: root.CreateGroupSchema
        content-type: application/json
      response:
        docs: The resource was successfully created.
        status-code: 201
        type: root.GroupSchema
      source:
        openapi: openapi.json
    createRole:
      display-name: Create a new role
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Create a new custom role for Role-Based Access Control
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.ConflictError
      examples:
        - request:
            name: external-contributors
            type: root-custom
          response:
            body:
              roles:
                description: >-
                  Users with the editor role have access to most features in
                  Unleash but can not manage users and roles in the global
                  scope. Editors will be added as project owners when creating
                  projects and get superuser rights within the context of these
                  projects. Users with the editor role will also get access to
                  most permissions on the default project by default.
                id: 9
                name: Editor
                project: default
                type: root
              version: 1
      method: POST
      path: /api/admin/roles
      request:
        body: root.CreateRoleWithPermissionsSchema
        content-type: application/json
      response:
        docs: roleWithVersionSchema
        status-code: 200
        type: root.RoleWithVersionSchema
      source:
        openapi: openapi.json
    createUser:
      display-name: Create a new user
      docs: Creates a new user with the given root role.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - request:
            rootRole: 1
          response:
            body:
              accountType: User
              activeSessions: 2
              createdAt: '2023-06-30T11:41:00Z'
              deletedSessions: 1
              email: user@example.com
              emailSent: false
              id: 123
              imageUrl: https://example.com/242x200.png
              inviteLink: http://localhost:4242/invite-link/some-secret
              loginAttempts: 3
              name: User
              permissions:
                - permissions
              rootRole: 1
              scimId: 01HTMEXAMPLESCIMID7SWWGHN6
              seenAt: '2023-06-30T11:42:00Z'
              username: hunter
      method: POST
      path: /api/admin/user-admin
      request:
        body:
          properties:
            email:
              docs: >-
                The user's email address. Must be provided if username is not
                provided.
              type: optional<string>
            name:
              docs: The user's name (not the user's username).
              type: optional<string>
            password:
              docs: Password for the user
              type: optional<string>
            rootRole:
              docs: >-
                The role to assign to the user. Can be either the role's ID or
                its unique name.
              type: CreateUserSchemaRootRole
            sendEmail:
              docs: >-
                Whether to send a welcome email with a login link to the user or
                not. Defaults to `true`.
              type: optional<boolean>
            username:
              docs: The user's username. Must be provided if email is not provided.
              type: optional<string>
        content-type: application/json
        name: CreateUserSchema
      response:
        docs: The resource was successfully created.
        status-code: 201
        type: root.CreateUserResponseSchema
      source:
        openapi: openapi.json
    deleteGroup:
      display-name: Delete a single group
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Delete a single user group by group id
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - path-parameters:
            groupId: groupId
      method: DELETE
      path: /api/admin/groups/{groupId}
      path-parameters:
        groupId: string
      source:
        openapi: openapi.json
    deleteInactiveUsers:
      display-name: Deletes inactive users
      docs: >-
        Deletes all inactive users. An inactive user is a user that has not
        logged in in the last 180 days
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - request:
            ids:
              - 12
              - 212
      method: POST
      path: /api/admin/user-admin/inactive/delete
      request:
        body:
          properties:
            ids:
              docs: Ids, for instance userid
              type: list<double>
        content-type: application/json
        name: IdsSchema
      source:
        openapi: openapi.json
    deleteRole:
      display-name: Delete a custom role
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Delete a custom role by id. You cannot delete built-in roles or roles
        that are in use.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - path-parameters:
            roleId: roleId
      method: DELETE
      path: /api/admin/roles/{roleId}
      path-parameters:
        roleId: string
      source:
        openapi: openapi.json
    deleteScimGroups:
      display-name: Delete all SCIM groups
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Deletes all groups managed by SCIM
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - {}
      method: DELETE
      path: /api/admin/groups/scim-groups
      source:
        openapi: openapi.json
    deleteScimUsers:
      display-name: Delete all SCIM users
      docs: Deletes all users managed by SCIM
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - {}
      method: DELETE
      path: /api/admin/user-admin/scim-users
      source:
        openapi: openapi.json
    deleteUser:
      display-name: Delete a user
      docs: Deletes the user with the given userId
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - path-parameters:
            id: 1
      method: DELETE
      path: /api/admin/user-admin/{id}
      path-parameters:
        id:
          docs: a user id
          type: integer
      source:
        openapi: openapi.json
    getAdminCount:
      display-name: Get total count of admin accounts
      docs: >-
        Get a total count of admins with password, without password and admin
        service accounts
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - response:
            body:
              noPassword: 1.1
              password: 1.1
              service: 1.1
      method: GET
      path: /api/admin/user-admin/admin-count
      response:
        docs: adminCountSchema
        status-code: 200
        type: root.AdminCountSchema
      source:
        openapi: openapi.json
    getBaseUsersAndGroups:
      display-name: Get basic user and group information
      docs: >-
        Get a subset of user and group information eligible even for non-admin
        users
      errors:
        - root.UnauthorizedError
      examples:
        - response:
            body:
              groups:
                - createdAt: '2023-06-30T11:41:00Z'
                  createdBy: admin
                  description: Current members of the DX squad
                  id: 1
                  mappingsSSO:
                    - SSOGroup1
                    - SSOGroup2
                  name: unleash-e2e-7095756699593281
                  projects:
                    - default
                    - my-project
                  scimId: 01HTMEXAMPLESCIMID7SWWGHN7
                  userCount: 1
                  users:
                    - joinedAt: '2023-06-30T11:41:00Z'
                      user:
                        createdAt: '2023-06-30T11:41:00Z'
                        deletedSessions: 1
                        email: user@example.com
                        emailSent: false
                        id: 123
                        imageUrl: https://example.com/242x200.png
                        inviteLink: http://localhost:4242/invite-link/some-secret
                        loginAttempts: 3
                        rootRole: 1
              users:
                - accountType: User
                  activeSessions: 2
                  createdAt: '2023-06-30T11:41:00Z'
                  deletedSessions: 1
                  email: unleash-e2e-user2-7095756699593281@test.com
                  emailSent: false
                  id: 4
                  imageUrl: https://example.com/242x200.png
                  inviteLink: http://localhost:4242/invite-link/some-secret
                  loginAttempts: 3
                  name: unleash-e2e-user2-7095756699593281
                  permissions:
                    - permissions
                  rootRole: 1
                  scimId: 01HTMEXAMPLESCIMID7SWWGHN6
                  seenAt: '2023-06-30T11:42:00Z'
                  username: hunter
                - accountType: User
                  activeSessions: 2
                  createdAt: '2023-06-30T11:41:00Z'
                  deletedSessions: 1
                  email: user@example.com
                  emailSent: false
                  id: 1
                  imageUrl: https://example.com/242x200.png
                  inviteLink: http://localhost:4242/invite-link/some-secret
                  loginAttempts: 3
                  name: User
                  permissions:
                    - permissions
                  rootRole: 1
                  scimId: 01HTMEXAMPLESCIMID7SWWGHN6
                  seenAt: '2023-06-30T11:42:00Z'
                  username: admin
      method: GET
      path: /api/admin/user-admin/access
      response:
        docs: usersGroupsBaseSchema
        status-code: 200
        type: root.UsersGroupsBaseSchema
      source:
        openapi: openapi.json
    getGroup:
      display-name: Get a single group
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Get a single user group by group id
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - path-parameters:
            groupId: groupId
          response:
            body:
              createdAt: '2023-06-30T11:41:00Z'
              createdBy: admin
              description: Current members of the DX squad
              id: 1
              mappingsSSO:
                - SSOGroup1
                - SSOGroup2
              name: DX team
              projects:
                - default
                - my-project
              rootRole: 1
              scimId: 01HTMEXAMPLESCIMID7SWWGHN7
              userCount: 1
              users:
                - createdBy: admin
                  joinedAt: '2023-06-30T11:41:00Z'
                  user:
                    createdAt: '2023-06-30T11:41:00Z'
                    deletedSessions: 1
                    email: user@example.com
                    emailSent: false
                    id: 123
                    imageUrl: https://example.com/242x200.png
                    inviteLink: http://localhost:4242/invite-link/some-secret
                    loginAttempts: 3
                    rootRole: 1
      method: GET
      path: /api/admin/groups/{groupId}
      path-parameters:
        groupId: string
      response:
        docs: groupSchema
        status-code: 200
        type: root.GroupSchema
      source:
        openapi: openapi.json
    getGroups:
      display-name: Get a list of groups
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Get a list of user groups for Role-Based Access Control
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - response:
            body:
              groups:
                - createdAt: '2023-06-30T11:41:00Z'
                  createdBy: admin
                  description: Current members of the DX squad
                  id: 1
                  mappingsSSO:
                    - SSOGroup1
                    - SSOGroup2
                  name: DX team
                  projects:
                    - default
                    - my-project
                  rootRole: 1
                  scimId: 01HTMEXAMPLESCIMID7SWWGHN7
                  userCount: 1
                  users:
                    - joinedAt: '2023-06-30T11:41:00Z'
                      user:
                        createdAt: '2023-06-30T11:41:00Z'
                        deletedSessions: 1
                        email: user@example.com
                        emailSent: false
                        id: 123
                        imageUrl: https://example.com/242x200.png
                        inviteLink: http://localhost:4242/invite-link/some-secret
                        loginAttempts: 3
                        rootRole: 1
      method: GET
      path: /api/admin/groups
      response:
        docs: groupsSchema
        status-code: 200
        type: root.GroupsSchema
      source:
        openapi: openapi.json
    getInactiveUsers:
      display-name: Gets inactive users
      docs: >-
        Gets all inactive users. An inactive user is a user that has not logged
        in in the last 180 days
      examples:
        - response:
            body:
              inactiveUsers:
                - createdAt: '2023-12-31T23:59:59Z'
                  email: user@example.com
                  id: 123
                  name: Ned Ryerson
                  patSeenAt: '2024-01-01T23:59:59Z'
                  seenAt: '2024-01-25T11:42:00Z'
                  username: nedryerson
              version: 1
      method: GET
      path: /api/admin/user-admin/inactive
      response:
        docs: inactiveUsersSchema
        status-code: 200
        type: root.InactiveUsersSchema
      source:
        openapi: openapi.json
    getMe:
      display-name: Get your own user details
      docs: >-
        Detailed information about the current user, user permissions and user
        feedback
      errors:
        - root.UnauthorizedError
      examples:
        - response:
            body:
              feedback:
                - feedbackId: pnps
                  given: '2023-07-06T08:29:21Z'
                  neverShow: false
                  userId: 2
              permissions:
                - environment: development
                  permission: UPDATE_FEATURE_STRATEGY
                  project: my-project
              splash:
                key: true
              user:
                accountType: User
                activeSessions: 2
                createdAt: '2023-06-30T11:41:00Z'
                deletedSessions: 1
                email: user@example.com
                emailSent: false
                id: 123
                imageUrl: https://example.com/242x200.png
                inviteLink: http://localhost:4242/invite-link/some-secret
                loginAttempts: 3
                name: User
                permissions:
                  - permissions
                rootRole: 1
                scimId: 01HTMEXAMPLESCIMID7SWWGHN6
                seenAt: '2023-06-30T11:42:00Z'
                username: hunter
      method: GET
      path: /api/admin/user
      response:
        docs: meSchema
        status-code: 200
        type: root.MeSchema
      source:
        openapi: openapi.json
    getProfile:
      display-name: Get your own user profile
      docs: >-
        Detailed information about the current user root role and project
        membership
      errors:
        - root.UnauthorizedError
      examples:
        - response:
            body:
              features:
                - archived: true
                  archivedAt: '2023-01-29T15:21:39Z'
                  children:
                    - some-feature
                  collaborators:
                    users:
                      - id: 123
                        imageUrl: https://example.com/242x200.png
                        name: User
                  createdAt: '2023-01-28T15:21:39Z'
                  createdBy:
                    id: 123
                    imageUrl: https://example.com/242x200.png
                    name: User
                  dependencies:
                    - enabled: true
                      feature: some-feature
                      variants:
                        - some-feature-blue-variant
                  description: >-
                    Controls disabling of the comments section in case of an
                    incident
                  enabled: true
                  environments:
                    - enabled: true
                      environment: development
                      featureName: disable-comments
                      milestoneName: Phase One
                      milestoneOrder: 0
                      name: my-dev-env
                      sortOrder: 3
                      strategies:
                        - constraints:
                            - contextName: appName
                              operator: NOT_IN
                              value: my-app
                          featureName: myAwesomeFeature
                          id: 6b5157cb-343a-41e7-bfa3-7b4ec3044840
                          name: flexibleRollout
                          sortOrder: 9999
                          variants:
                            - name: blue_group
                              payload:
                                type: json
                                value: '{"color": "red"}'
                              stickiness: custom.context.field
                              weight: 1
                              weightType: variable
                      totalMilestones: 0
                      type: development
                      variants:
                        - name: blue_group
                          overrides:
                            - contextName: userId
                              values:
                                - red
                                - blue
                          payload:
                            type: json
                            value: '{"color": "red"}'
                          stickiness: custom.context.field
                          weight: 1.1
                  favorite: true
                  impressionData: false
                  lifecycle:
                    enteredStageAt: '2023-01-28T15:21:39Z'
                    stage: initial
                  links:
                    - id: 01JTJNCJ5XVP2KPJFA03YRBZCA
                      url: https://github.com/search?q=cleanupReminder&type=code
                  name: disable-comments
                  project: dx-squad
                  stale: false
                  tags:
                    - type: simple
                      value: a-tag-value
                  type: kill-switch
              projects:
                - my-projectA
                - my-projectB
              rootRole:
                description: >-
                  Users with the editor role have access to most features in
                  Unleash but can not manage users and roles in the global
                  scope. Editors will be added as project owners when creating
                  projects and get superuser rights within the context of these
                  projects. Users with the editor role will also get access to
                  most permissions on the default project by default.
                id: 9
                name: Editor
                project: default
                type: root
              subscriptions:
                - productivity-report
      method: GET
      path: /api/admin/user/profile
      response:
        docs: profileSchema
        status-code: 200
        type: root.ProfileSchema
      source:
        openapi: openapi.json
    getRoleById:
      display-name: Get a single role
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Get a single role by role id
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.NotFoundError
      examples:
        - path-parameters:
            roleId: roleId
          response:
            body:
              description: >-
                Users with the editor role have access to most features in
                Unleash but can not manage users and roles in the global scope.
                Editors will be added as project owners when creating projects
                and get superuser rights within the context of these projects.
                Users with the editor role will also get access to most
                permissions on the default project by default.
              id: 9
              name: Editor
              permissions:
                - displayName: Update feature flags
                  environment: development
                  id: 3
                  name: UPDATE_FEATURE
                  type: project
              type: root
      method: GET
      path: /api/admin/roles/{roleId}
      path-parameters:
        roleId: string
      response:
        docs: roleWithPermissionsSchema
        status-code: 200
        type: root.RoleWithPermissionsSchema
      source:
        openapi: openapi.json
    getRoles:
      display-name: Get a list of roles
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Get a list of project, root and custom roles for Role-Based Access
        Control
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - response:
            body:
              roles:
                - description: >-
                    Users with the editor role have access to most features in
                    Unleash but can not manage users and roles in the global
                    scope. Editors will be added as project owners when creating
                    projects and get superuser rights within the context of
                    these projects. Users with the editor role will also get
                    access to most permissions on the default project by
                    default.
                  id: 9
                  name: Editor
                  project: default
                  type: root
              version: 1
      method: GET
      path: /api/admin/roles
      response:
        docs: rolesWithVersionSchema
        status-code: 200
        type: root.RolesWithVersionSchema
      source:
        openapi: openapi.json
    getUser:
      display-name: Get user
      docs: Will return a single user by id
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.NotFoundError
      examples:
        - path-parameters:
            id: 1
          response:
            body:
              accountType: User
              activeSessions: 2
              createdAt: '2023-06-30T11:41:00Z'
              deletedSessions: 1
              email: user@example.com
              emailSent: false
              id: 123
              imageUrl: https://example.com/242x200.png
              inviteLink: http://localhost:4242/invite-link/some-secret
              loginAttempts: 3
              name: User
              permissions:
                - permissions
              rootRole: 1
              scimId: 01HTMEXAMPLESCIMID7SWWGHN6
              seenAt: '2023-06-30T11:42:00Z'
              username: hunter
      method: GET
      path: /api/admin/user-admin/{id}
      path-parameters:
        id:
          docs: a user id
          type: integer
      response:
        docs: userSchema
        status-code: 200
        type: root.UserSchema
      source:
        openapi: openapi.json
    getUserRoles:
      display-name: Get roles for currently logged in user
      docs: >-
        Gets roles assigned to currently logged in user. Both explicitly and
        transitively through group memberships
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - query-parameters:
            projectId: projectId
          response:
            body:
              roles:
                - description: >-
                    Users with the editor role have access to most features in
                    Unleash but can not manage users and roles in the global
                    scope. Editors will be added as project owners when creating
                    projects and get superuser rights within the context of
                    these projects. Users with the editor role will also get
                    access to most permissions on the default project by
                    default.
                  id: 9
                  name: Editor
                  project: default
                  type: root
              version: 1
      method: GET
      path: /api/admin/user/roles
      request:
        name: GetUserRolesRequest
        query-parameters:
          projectId:
            docs: The id of the project you want to check permissions for
            type: optional<string>
      response:
        docs: rolesSchema
        status-code: 200
        type: root.RolesSchema
      source:
        openapi: openapi.json
    getUsers:
      display-name: >-
        Get all users and [root
        roles](https://docs.getunleash.io/reference/rbac#predefined-roles)
      docs: >-
        Will return all users and all available root roles for the Unleash
        instance.
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - response:
            body:
              rootRoles:
                - description: >-
                    Users with the editor role have access to most features in
                    Unleash but can not manage users and roles in the global
                    scope. Editors will be added as project owners when creating
                    projects and get superuser rights within the context of
                    these projects. Users with the editor role will also get
                    access to most permissions on the default project by
                    default.
                  id: 9
                  name: Editor
                  project: default
                  type: root
              users:
                - accountType: User
                  activeSessions: 2
                  createdAt: '2023-06-30T11:41:00Z'
                  deletedSessions: 1
                  email: user@example.com
                  emailSent: false
                  id: 123
                  imageUrl: https://example.com/242x200.png
                  inviteLink: http://localhost:4242/invite-link/some-secret
                  loginAttempts: 3
                  name: User
                  permissions:
                    - permissions
                  rootRole: 1
                  scimId: 01HTMEXAMPLESCIMID7SWWGHN6
                  seenAt: '2023-06-30T11:42:00Z'
                  username: hunter
      method: GET
      path: /api/admin/user-admin
      response:
        docs: usersSchema
        status-code: 200
        type: root.UsersSchema
      source:
        openapi: openapi.json
    resetUserPassword:
      display-name: Reset user password
      docs: Reset user password as an admin
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - request:
            id: user@example.com
          response:
            body:
              resetPasswordUrl: https://unleash.reset.com
      method: POST
      path: /api/admin/user-admin/reset-password
      request:
        body:
          properties:
            id:
              docs: User email
              type: string
        content-type: application/json
        name: IdSchema
      response:
        docs: resetPasswordSchema
        status-code: 200
        type: root.ResetPasswordSchema
      source:
        openapi: openapi.json
    searchUsers:
      display-name: Search users
      docs: ' It will preform a simple search based on name and email matching the given query. Requires minimum 2 characters'
      errors:
        - root.UnauthorizedError
      examples:
        - query-parameters:
            q: q
          response:
            body:
              rootRoles:
                - description: >-
                    Users with the editor role have access to most features in
                    Unleash but can not manage users and roles in the global
                    scope. Editors will be added as project owners when creating
                    projects and get superuser rights within the context of
                    these projects. Users with the editor role will also get
                    access to most permissions on the default project by
                    default.
                  id: 9
                  name: Editor
                  project: default
                  type: root
              users:
                - accountType: User
                  activeSessions: 2
                  createdAt: '2023-06-30T11:41:00Z'
                  deletedSessions: 1
                  email: user@example.com
                  emailSent: false
                  id: 123
                  imageUrl: https://example.com/242x200.png
                  inviteLink: http://localhost:4242/invite-link/some-secret
                  loginAttempts: 3
                  name: User
                  permissions:
                    - permissions
                  rootRole: 1
                  scimId: 01HTMEXAMPLESCIMID7SWWGHN6
                  seenAt: '2023-06-30T11:42:00Z'
                  username: hunter
      method: GET
      path: /api/admin/user-admin/search
      request:
        name: SearchUsersRequest
        query-parameters:
          q:
            docs: The pattern to search in the username or email
            type: optional<string>
      response:
        docs: usersSchema
        status-code: 200
        type: root.UsersSchema
      source:
        openapi: openapi.json
    updateGroup:
      display-name: Update a group
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Update existing user group by group id. It overrides previous group
        details.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.ConflictError
      examples:
        - path-parameters:
            groupId: groupId
          request:
            name: DX team
          response:
            body:
              createdAt: '2023-06-30T11:41:00Z'
              createdBy: admin
              description: Current members of the DX squad
              id: 1
              mappingsSSO:
                - SSOGroup1
                - SSOGroup2
              name: DX team
              projects:
                - default
                - my-project
              rootRole: 1
              scimId: 01HTMEXAMPLESCIMID7SWWGHN7
              userCount: 1
              users:
                - createdBy: admin
                  joinedAt: '2023-06-30T11:41:00Z'
                  user:
                    createdAt: '2023-06-30T11:41:00Z'
                    deletedSessions: 1
                    email: user@example.com
                    emailSent: false
                    id: 123
                    imageUrl: https://example.com/242x200.png
                    inviteLink: http://localhost:4242/invite-link/some-secret
                    loginAttempts: 3
                    rootRole: 1
      method: PUT
      path: /api/admin/groups/{groupId}
      path-parameters:
        groupId: string
      request:
        body: root.CreateGroupSchema
        content-type: application/json
      response:
        docs: groupSchema
        status-code: 200
        type: root.GroupSchema
      source:
        openapi: openapi.json
    updateRole:
      display-name: Update a role
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Update a custom role by role id
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.ConflictError
      examples:
        - path-parameters:
            roleId: roleId
          request:
            name: external-contributors
            type: root-custom
          response:
            body:
              roles:
                description: >-
                  Users with the editor role have access to most features in
                  Unleash but can not manage users and roles in the global
                  scope. Editors will be added as project owners when creating
                  projects and get superuser rights within the context of these
                  projects. Users with the editor role will also get access to
                  most permissions on the default project by default.
                id: 9
                name: Editor
                project: default
                type: root
              version: 1
      method: PUT
      path: /api/admin/roles/{roleId}
      path-parameters:
        roleId: string
      request:
        body: root.CreateRoleWithPermissionsSchema
        content-type: application/json
      response:
        docs: roleWithVersionSchema
        status-code: 200
        type: root.RoleWithVersionSchema
      source:
        openapi: openapi.json
    updateUser:
      display-name: Update a user
      docs: Only the explicitly specified fields get updated.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - path-parameters:
            id: 1
          request: {}
          response:
            body:
              accountType: User
              activeSessions: 2
              createdAt: '2023-06-30T11:41:00Z'
              deletedSessions: 1
              email: user@example.com
              emailSent: false
              id: 123
              imageUrl: https://example.com/242x200.png
              inviteLink: http://localhost:4242/invite-link/some-secret
              loginAttempts: 3
              name: User
              permissions:
                - permissions
              rootRole: 1
              scimId: 01HTMEXAMPLESCIMID7SWWGHN6
              seenAt: '2023-06-30T11:42:00Z'
              username: hunter
      method: PUT
      path: /api/admin/user-admin/{id}
      path-parameters:
        id:
          docs: a user id
          type: integer
      request:
        body:
          properties:
            email:
              docs: >-
                The user's email address. Must be provided if username is not
                provided.
              type: optional<string>
            name:
              docs: The user's name (not the user's username).
              type: optional<string>
            rootRole:
              docs: >-
                The role to assign to the user. Can be either the role's ID or
                its unique name.
              type: optional<UpdateUserSchemaRootRole>
        content-type: application/json
        name: UpdateUserSchema
      response:
        docs: createUserResponseSchema
        status-code: 200
        type: root.CreateUserResponseSchema
      source:
        openapi: openapi.json
    validateRole:
      display-name: Validate a role
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Check if the role matches schema and has a unique name
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
      examples:
        - request:
            name: external-contributors
            type: root-custom
      method: POST
      path: /api/admin/roles/validate
      request:
        body: root.CreateRoleWithPermissionsSchema
        content-type: application/json
      source:
        openapi: openapi.json
    validateUserPassword:
      display-name: Validate password for a user
      docs: >-
        Validate the password strength. Minimum 10 characters, uppercase letter,
        number, special character.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.UnsupportedMediaTypeError
      examples:
        - request:
            password: k!5As3HquUrQ
      method: POST
      path: /api/admin/user-admin/validate-password
      request:
        body: root.PasswordSchema
        content-type: application/json
      source:
        openapi: openapi.json
  source:
    openapi: openapi.json
