imports:
  root: __package__.yml
docs: >-
  Endpoints for managing [Service
  Accounts](https://docs.getunleash.io/reference/service-accounts), which enable
  programmatic access to the Unleash API.
service:
  auth: false
  base-path: ''
  display-name: Service Accounts
  endpoints:
    createServiceAccount:
      display-name: Create a service account.
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Creates a new service account.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
      examples:
        - request:
            name: Service Account 1
            rootRole: 1
            username: service-account-1
          response:
            body:
              createdAt: '2021-01-01T00:00:00Z'
              id: 54321
              imageUrl: https://example.com/my-service-account.png
              name: My Service Account
              rootRole: 1
              tokens:
                - createdAt: '2023-04-19T08:15:14Z'
                  description: user:xyzrandomstring
                  expiresAt: '2023-04-19T08:15:14Z'
                  id: 1
                  secret: user:xyzrandomstring
                  seenAt: '2023-04-19T08:15:14Z'
                  userId: 1337
              username: my-service-account
      method: POST
      path: /api/admin/service-account
      request:
        body:
          properties:
            name:
              docs: The name of the service account
              type: string
            rootRole:
              docs: The id of the root role for the service account
              type: integer
            username:
              docs: The username of the service account
              type: string
        content-type: application/json
        name: CreateServiceAccountSchema
      response:
        docs: The resource was successfully created.
        status-code: 201
        type: root.ServiceAccountSchema
      source:
        openapi: openapi.json
    createServiceAccountToken:
      display-name: Create a token for a service account.
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Creates a new token for the service account identified by the id.
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.ConflictError
        - root.UnsupportedMediaTypeError
      examples:
        - path-parameters:
            id: id
          request:
            description: user:xyzrandomstring
            expiresAt: '2023-04-19T08:15:14Z'
          response:
            body:
              createdAt: '2023-04-19T08:15:14Z'
              description: user:xyzrandomstring
              expiresAt: '2023-04-19T08:15:14Z'
              id: 1
              secret: user:xyzrandomstring
              seenAt: '2023-04-19T08:15:14Z'
              userId: 1337
      method: POST
      path: /api/admin/service-account/{id}/token
      path-parameters:
        id: string
      request:
        body: root.CreatePatSchema
        content-type: application/json
      response:
        docs: The resource was successfully created.
        status-code: 201
        type: root.PatSchema
      source:
        openapi: openapi.json
    deleteServiceAccount:
      display-name: Delete a service account.
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Deletes an existing service account identified by its id.
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - path-parameters:
            id: id
      method: DELETE
      path: /api/admin/service-account/{id}
      path-parameters:
        id: string
      source:
        openapi: openapi.json
    deleteServiceAccountToken:
      display-name: Delete a token for a service account.
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Deletes a token for the service account identified both by the service
        account's id and the token's id.
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - path-parameters:
            id: id
            tokenId: tokenId
      method: DELETE
      path: /api/admin/service-account/{id}/token/{tokenId}
      path-parameters:
        id: string
        tokenId: string
      source:
        openapi: openapi.json
    getServiceAccounts:
      display-name: List service accounts.
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Returns the list of all service accounts.
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
      examples:
        - response:
            body:
              rootRoles:
                - description: >-
                    Users with the editor role have access to most features in
                    Unleash but can not manage users and roles in the global
                    scope. Editors will be added as project owners when creating
                    projects and get superuser rights within the context of
                    these projects. Users with the editor role will also get
                    access to most permissions on the default project by
                    default.
                  id: 9
                  name: Editor
                  project: default
                  type: root
              serviceAccounts:
                - createdAt: '2021-01-01T00:00:00Z'
                  id: 54321
                  imageUrl: https://example.com/my-service-account.png
                  name: My Service Account
                  rootRole: 1
                  tokens:
                    - createdAt: '2023-04-19T08:15:14Z'
                      description: user:xyzrandomstring
                      expiresAt: '2023-04-19T08:15:14Z'
                      id: 1
                      secret: user:xyzrandomstring
                      userId: 1337
                  username: my-service-account
      method: GET
      path: /api/admin/service-account
      response:
        docs: '#/components/schemas/serviceAccountsSchema'
        status-code: 200
        type: root.ServiceAccountsSchema
      source:
        openapi: openapi.json
    getServiceAccountTokens:
      display-name: List all tokens for a service account.
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Returns the list of all tokens for a service account identified by the
        id.
      errors:
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
      examples:
        - path-parameters:
            id: id
          response:
            body:
              pats:
                - createdAt: '2023-04-19T08:15:14Z'
                  description: user:xyzrandomstring
                  expiresAt: '2023-04-19T08:15:14Z'
                  id: 1
                  secret: user:xyzrandomstring
                  seenAt: '2023-04-19T08:15:14Z'
                  userId: 1337
      method: GET
      path: /api/admin/service-account/{id}/token
      path-parameters:
        id: string
      response:
        docs: '#/components/schemas/patsSchema'
        status-code: 200
        type: root.PatsSchema
      source:
        openapi: openapi.json
    updateServiceAccount:
      display-name: Update a service account.
      docs: >-
        ![Unleash Enterprise](/ushosted/openapi-static/Enterprise.svg)
        **Enterprise feature**


        Updates an existing service account identified by its id.
      errors:
        - root.BadRequestError
        - root.UnauthorizedError
        - root.ForbiddenError
        - root.NotFoundError
        - root.UnsupportedMediaTypeError
      examples:
        - path-parameters:
            id: id
          request: {}
          response:
            body:
              createdAt: '2021-01-01T00:00:00Z'
              id: 54321
              imageUrl: https://example.com/my-service-account.png
              name: My Service Account
              rootRole: 1
              tokens:
                - createdAt: '2023-04-19T08:15:14Z'
                  description: user:xyzrandomstring
                  expiresAt: '2023-04-19T08:15:14Z'
                  id: 1
                  secret: user:xyzrandomstring
                  seenAt: '2023-04-19T08:15:14Z'
                  userId: 1337
              username: my-service-account
      method: PUT
      path: /api/admin/service-account/{id}
      path-parameters:
        id: string
      request:
        body:
          properties:
            name:
              docs: The name of the service account
              type: optional<string>
            rootRole:
              docs: The id of the root role for the service account
              type: optional<integer>
        content-type: application/json
        name: UpdateServiceAccountSchema
      response:
        docs: '#/components/schemas/serviceAccountSchema'
        status-code: 200
        type: root.ServiceAccountSchema
      source:
        openapi: openapi.json
  source:
    openapi: openapi.json
